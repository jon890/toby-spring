## 1. 다시 보는 초난감 DAO

- UserDao 코드에는 아직 문제점이 남아 있다
- DB 연결과 관련된 여러 가지 개선 작업은 했지만, 예외상황에 대한 처리가 없다!

### 1. 예외처리 기능을 갖춘 DAO

- DB 커넥션이라는 제한적인 리소스를 공유해 사용하는 서버에서 동작하는 JDBC 코드에는 반드시 지켜야 할 원칙이 있다
- 바로 예외처리다
- 중간에 어떤 이유로든 예외가 발생했을 경우에도 사용한 리소스를 반드시 반환하도록 만들어야 하기 때문이다


- 일반적인 서버에서는 제한된 개수의 DB 커넥션을 만들어서 재사용 가능한 풀로 관리한다
- 그런데 이런 식으로 오류가 날 때마다 미처 반환되지 못한 Connection이 계속 샇이면 어느 순간에 커넥션 풀에 여유가 없어지고 리소스가 모자란다는 심각한 오류를 내며 서버가 중단될 수 있다


    참고 : 리소스 반환과 close()
    Connection과 PreparedStatement는 보통 풀(pool) 방식으로 운영된다
    미리 정해진 풀 안에 제한된 수의 리소스를 만들어 두고 필요할 때 이를 할당하고,
    반환하면 다시 풀에 넣는 방식으로 운영된다
    요청이 매우 많은 서버환경에서는 매번 새로운 리소스를 생성하는 대신 풀에 미리 만들어둔
    리소스를 돌려가며 사용하는 편이 훨씬 유리하다
    대신, 사용한 리소스는 빠르게 반환해야 한다
    이떄 close() 메소드는 사용한 리소스를 풀로 다시 돌려주는 역할을 한다

- 예외상황에서도 리소스를 제대로 반환할 수 있도록 try/catch/finally를 적용해보자!
  