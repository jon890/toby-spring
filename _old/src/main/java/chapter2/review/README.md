## 1. UserDaoTest 다시 보기

### 1. 테스트의 유용성
- 이전에 만들었던 테스트 코드는 main() 메소드를 이용해 UserDao 오브젝트의 add(), get() 메소드를 호출하고, 그 결과를 화면에 출력해서 그 값은 눈으로 확인시켜준다
- UserDao의 클래스를 책임에 따라 이리저리 분리하고, 인터페이스를 도입하고, 오브젝트 팩토리를 통해 생성되도록 만들고, 또 스프링의 DI 방식을 적용했을 때 그것이 처음과 동일한 기능을 수행함을 보장해줄 수 있는 방법은 어떤 것이 있겠는가?
- 테스트를 통해 직접 기능을 동작시켜서 결과를 확인하는 방법 외에는 없다
- 테스트란 결국 내가 예상하고 의도했던 대로 코드가 정확히 동작하는지를 확인해서, 만든 코드를 확신할 수 있게 해주는 작업이다
- 또한 테스트의 결과가 원하는 대로 나오지 않는 경우에는 코드나 설계에 결함이 있음을 알 수 있다
- 이를 통해 코드의 결함을 제거해가는 작업, 일명 디버깅을 거치게 된다
- 결국 최종적으로 테스트가 성공하면 모든 결함이 제거됐다는 확신을 얻을 수 있다

### 2. UserDao의 특징
1. 자바에서 가장 손쉽게 실행 가능한 main() 메소드를 이용한다
2. 테스트할 대상인 UserDao의 오브젝트를 가져와 메소드를 호출한다
3. 테스트에 사용할 입력 값(User 오브젝트)을 직접 코드에서 만들어 넣어준다
4. 테스트의 결과를 콘솔에 출력해준다
5. 각 단계의 작업이 에러 없이 끝나면 콘솔에 성공 메시지로 출력해준다

#### 작은 단위의 테스트
- 테스트하고자 하는 대상이 명확하다면 그 대상에만 집중해서 테스트하는 것이 바람직하다
- 관심사의 분리라는 원리가 여기에도 적용된다 => 테스트의 관심이 다르다면 테스트할 대상을 분리하고 집중해서 접근해야 한다
- 이렇게 작은 단위의 코드에 대해 테스트를 수행한 것을 <b>단위 테스트</b>라고 한다
- 일반적으로 단위는 작을수록 좋다. 단위를 넘어서는 다른 코드들은 신경 쓰지 않고, 참여하지도 않고 테스트가 동작할 수 있으면 좋다
- 단위 테스트를 하는 이유는 개발자가 설계하고 만든 코드가 원래 의도한 대로 동작하는지를 개발자 스스로 빨리 확인받기 위해서다

#### 자동수행 테스트 코드
- 테스트는 자동으로 수행되도록 코드로 만들어지는 것이 중요하다
- 그런데 애플리케이션을 구성하는 클래스 안에 테스트 코드를 포함시키는 것보다는 별도로 테스트용 클래스를 만들어서 테스트 코드를 넣는 편이 낫다
- 자동으로 수행되는 테스트의 장점은 자주 반복할 수 있다는 것이다
- 아무리 간단한 수정이라고 하더라도 이게 그럭저럭 돌아가는 전체 애플리케이션에 심각한 문제를 일으키지는 않을까 하는 두려움이 앞선다
- 그럴 때 만들어둔 기능에 대한 테스트가 있다면 수정 후 빠르게 전체 테스트를 수행해서 수정 때문에 다른 기능에 문제가 발생하지는 않는지 재빨리 확인하고, 확신을 얻을 수 있다

#### 지속적인 개선과 점진적인 개발을 위한 테스트
- 처음 만든 초난감 DAO 코드를, 스프링을 이용한 깔끔하고 완성도 높은 객체지향적 코드로 발전시키는 과정의 일등 공신은 바로 이 테스트였다
- 일단 단순 무식한 방법으로 정상작동하는 코드를 만들고, 테스트를 만들어 뒀기 때문에 작은 단계를 거쳐가면서 계속 코드를 개선해나갈 수 있었다
- 또 UserDao의 기능을 추가하려고 할 때도 미리 만들어둔 테스트 코드느 유용하게 쓰일 수 있다
- 테스트를 이용하면 새로운 기능도 기대한 대로 동작하는지 확인할 수 있을 뿐 아니라, 기존에 만들어뒀던 기능들이 새로운 기능을 추가하느라 수정한 코드에 영향을 받지 않고 여전히 잘 동작하는지를 확인할 수 도 있다

